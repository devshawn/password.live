sudo: required
services:
  - docker
language: node_js
cache:
  directories:
    - ~/.npm
    - "source/server/node_modules"
    - "source/client/node_modules"
node_js:
  - "8"
# allow for clean install regeneration of package-lock.json file
before_install:
  - rm -rf source/{client,server}/node_modules
install:
  - npm install -g lerna
  - npm install
script:
  - npm run test
  - npm run compile
